# Build Guide
こちらはHalfcliffのビルドガイドです。
基本セット＋拡張基板(JIS）の組み立てに必要な情報が記載されています。
(まだ作成中につき注意)

大まかな流れは以下の通りです。
*   同梱品の確認
*   別途必要な部品の準備、確認
*   必要な部品の準備、確認
*   左右ProMicro基板の組み立て
*   左右キースイッチ基板の組み立て
*   左右拡張基板(JIS)の組み立て
*   各基板の連結


# 同梱品の確認
以下の部品が揃っていることを確認します。
M2x2mm中空スペーサー等、予備の部品が付属しているものもあります。

*   ProMicro基板用の部品

|名前|合計数|備考|
|:-|:-|:-|
ProMicro基板|	2	|	表面にControl Boardと書いてある基板です。左拡張基板(JIS)と一体になっています。|
1x9L字ピンソケット	|	4	|	9ピンのL字型のピンソケットです。樹脂部分の長さは8.5㎜です。	|
1x12ピンソケット	|	4	|	黒色の12ピンのピンソケットです。樹脂部分の長さは5.7㎜です。	|
リセットスイッチ	|	2	|	ボタンがある四角い部品です。	|
2x4細ピンヘッダ(2mmピッチ)	|	2	|	2x4ピンのピンソケットです。	|
ジャンパピン(2mmピッチ）	|	4	|	内部に金属端子がある、黒色の四角い樹脂製の部品です。	|
TRRSジャック	|	2	|	TRRSケーブルを接続する穴がある四角い部品です。	|
1x4ピンソケット(ロープロファイル)	|	2	|	4ピンの背が低いピンソケットです。	|
M2x2mm中空スペーサー	|	8	|	長さ2mm円柱の形をした部品です。(厚めのワッシャのような部品です。)	|
M2x8mmなべ小ねじ	|	4	|	銀色の長さ8㎜のねじです。	|
M2ナット	|	4	|	銀色の六角形の部品です。	|

*   キースイッチ基板用の部品

|名前|合計数|備考|
|:-|:-|:-|
基板(左キーボード）	|	1	|	表面にLeft Switch Boardと書いてある基板です。
基板(右キーボード）	|	1	|	表面にRight Switch Boardと書いてある基板です。
トッププレート	|	2	|	四角い穴の開いた白色の基板です。(一番大きい方です。)
ボトムプレート	|	2	|	アクリル製の透明な板です。
1x9L字ピンヘッダ	|	4	|	9ピンのL字型のピンヘッダです。
ダイオード	|	50	|	リードタイプのダイオードです。
1x9ロープロファイルピンヘッダ	|	1	|	9ピンの背が低いピンヘッダです。拡張基板未使用時は余ります。
1x8ロープロファイルピンヘッダ	|	1	|	8ピンの背が低いピンヘッダです。拡張基板未使用時は余ります。
ピンソケット1x4(ロープロファイル)	|	1	|	4ピンの背が低いピンソケットです。左キーボードのみに使用します。
M2x7mmスペーサー	|	12	|	銀色の円柱の形をした部品です。
M2x4mmねじ	|	16	|	銀色の長さ4㎜のねじです。
M2x6mmなべ小ねじ	|	4	|	銀色の長さ6㎜のねじです。	|
M2x3mmスリムヘッド小ねじ	|	4	|	背の低い長さ3㎜のねじです。	|
ProMicroカバー	|	2	|	アクリル製の透明な板です。(小さい方です。)	|
ゴム足	|	8	|	透明なゴム足です。シートに貼り付けてあります。
LEDテープ	|	2	|	1枚当たり5つのLEDが付いたテープ状の部品です。


*   拡張基板用の部品

|名前|合計数|備考|
|:-|:-|:-|
左拡張基板(JIS)	|	1	|	表面にLeft Extension Boardと書いてある基板です。ProMicro基板と一体になっています。
右拡張基板(JIS)	|	1	|	表面にRight Extension Boardと書いてある基板です。
左拡張基板(JIS)用トッププレート	|	1	|	四角形の穴が開いた白色の基板です。(一番小さい方です。)
右拡張基板(JIS)用トッププレート	|	1	|	四角形の穴が開いた白色の基板です。(二番目に大きい方です。)
ダイオード	|	25	|	リードタイプのダイオードです。
1x8ロープロファイルピンヘッダ	|	1	|	8ピンの背が低いピンヘッダです。
1x9ロープロファイルピンヘッダ	|	1	|	9ピンの背が低いピンヘッダです。
ジャンパピン	|	17	|	内部に金属端子がある、四角い樹脂製の部品です。
M2x7mmスペーサー	|	4	|	銀色の円柱の形をした部品です。
M2x4mmなべ小ねじ	|	8	|	銀色の長さ4㎜のねじです。


# 別途必要な部品の準備、確認
以下の部品を用意します。

|名前|合計数|備考|
|:-|:-|:-|
pro micro	|	2	|	マイコンのついた基板です。
ピンヘッダ1x12	|	4	|	12ピンのピンヘッダです。ProMicroの袋に同梱されている場合不要です。
スタビライザー	|	2	|	黒色の部品が金属製のシャフトでつながった部品です。
キーキャップ	|	75	|	CherryMX互換品のキーキャップが必要です。例えば[これ](https://www.diatec.co.jp/shop/det.php?prod_c=4130)
キースイッチ	|	75	|	Cherry MX互換品が必要です。
TRRSケーブル	|	1	|	TRRSジャックに接続するケーブルです。


# 組立に必要な工具の用意
Halfcliff組立て時に自分が使用したものを以下に記載します。
* はんだごて
* はんだこて台
* はんだ
* 簡易はんだ吸い取り機(ハッコースッポン 20Gを所持しているのでそちらを使用しました。)
* フラックス
* ピンセット
* マスキングテープ
* 精密ドライバー
* 大き目のクリップ(キースイッチのはんだ付け時に、キースイッチを基板に固定するために使用しました。)
* ニッパー
* 鉄やすり
* 瞬間接着剤(ピンヘッダやピンソケットの取付け時に使用しました。使う場合は部品の樹脂部分に少量だけ塗布(金属部分にはつかないように注意です！！)し、基板に接着します。)
* エポキシ接着剤

他にも、こちらのサリチル酸様のWebページも非常に参考になるかと思います。(この場を借りて感謝申し上げます。)
[自作キーボードを作るために必要なもの - 自作キーボード温泉街の歩き方](https://salicylic-acid3.hatenablog.com/entry/tool-lubrication)

# 組立時の主な注意点
* ProMicro基板の組み立て時、1x9L字ピンソケットの向きに注意してください。(後の手順で詳細を記載しています。)
* ダイオードをはんだ付けする際の向きに注意してください。
* はんだ付け時にキースイッチやピンソケット、ピンヘッダ等の部品が基板から浮かないように注意してください。
* ジャンパピンの取り付け位置に注意してください。
* はんだ付けに自信が無い場合は、はんだ付けする箇所にフラックスを薄く塗布してからはんだ付けしてください。(特にLEDテープのはんだ付け)
* はんだ付けした部品を取り外す場合、はんだの吸い取りが不十分な状態で無理に取り外すと、基板の銅箔がはがれる可能性があるので注意してください。

# ProMicro基板の組み立て
左右のProMicro基板を組み立てます。(つまり、各作業を2回行うことになります。)

おおまかな流れは以下の通りです。
* コントロール基板の切り離し
* 1x9L字ピンソケット2つのはんだ付け
* 1x4ピンソケット(ロープロファイル)のはんだ付け
* 1x12ピンソケット2つのはんだ付け
* リセットスイッチのはんだ付け
* 2x4ピンヘッダのはんだ付け
* 2x4ピンヘッダへのジャンパピンの取り付け
* TRRSジャックのはんだ付け
* ProMicroへの1x12ピンヘッダのはんだ付け
* 1x12ピンソケットへのProMicroの取付け
画像は主に右ProMicro基板のものですが、左の組み立て方法も殆ど同じです。

左右で方法が大きく異なるものには、左用の画像も用意しています。


# コントロール基板の切り離し
ProMicro基板と左拡張基板(JIS)をニッパー等で切り離します。

あとで触ってケガしないよう、鋭い部分が残らないよう切り離してください。

切り残しが基板の凹みより内側にあれば、組立て時に干渉することはありません。

気になる場合は、切り残しを鉄ヤスリ等で削ります。

# 1x9L字ピンソケット2つのはんだ付け
基板に1x9L字ピンソケット2つを取り付け、はんだ付けします。

左右の基板ではんだ付けの向きが異なるので注意してください。

(左基板へ1x9L字ピンソケットをはんだ付けした後の写真)

(右基板へ1x9L字ピンソケットをはんだ付けした後の写真)

まずはピンソケットの端子1つをはんだ付けし、ピンソケットが基板から浮いていないことを確認します。

浮いている場合は、はんだを溶かしながら位置を調整するとよいです。

問題が無ければ残りの端子をはんだ付けします。


# 1x4ピンソケット(ロープロファイル)のはんだ付け
基板に1x4ピンソケット(ロープロファイル)を取り付け、はんだ付けします。

L字ピンソケット同様、端子1つをはんだ付けした時点で、ピンソケットが基板から浮いていないことを確認するとよいです。


#  1x12ピンソケット2つのはんだ付け
基板へ1x12ピンソケット2つを取り付け、はんだ付けします。


# リセットスイッチのはんだ付け
基板へリセットスイッチを取り付け、はんだ付けします。リセットスイッチに向きはありません。

必要なはんだの量はピンソケットより多めです。


# 2x4細ピンヘッダ(2mmピッチ)のはんだ付け
2x4細ピンヘッダ(2mmピッチ)を取り付け、はんだ付けします。

ピン同士がはんだでくっつかないよう注意してください。


# ジャンパピンの取り付け
はんだ付けしたピンヘッダへジャンパピンを取り付けます。

画像の位置に取り付けてください。

(オプション)ピンの位置を変更することで、左右のキーボード間の通信をI2Cで行うこともできます。

その場合、以下の画像を参考にジャンパピンの取り付けを行ってください。

ただし、通信をI2Cで行う場合、ファームウェアの変更が必要となります。

# TRRSジャックのはんだ付け
基板へTRRSジャックを取り付け、はんだ付けします。

左右の基板で取付場所が異なるので注意してください。

…といっても、順番通りに組み立てれば、使用しない取り付け場所は1x9L字ピンヘッダで塞がれるので問題ないかと思います。)

# ProMicroへの1x12ピンヘッダのはんだ付け
　ProMicroへ1x12ピンヘッダをはんだ付けします。
 
 ピンヘッダの長い方がProMicro側ですので注意してください。
 
 また、できればここでProMicroのUSB端子のモゲ対策をしておくとよいです。
 
# 1x12ピンソケットへのProMicroの取付け
　ProMicroをピンソケットへ取り付けます。

以上でProMicro基板の組み立ては完了です。


# キースイッチ基板の組み立て
左右のキースイッチ基板を組み立てます。(つまり、各作業を2回(ry)

おおまかな流れは以下の通りです。
* ダイオードのはんだ付け
* 1x9L字ピンヘッダ2つのはんだ付け
* 1x4ピンソケット(ロープロファイル)のはんだ付け
* 1x8(右は1x9)ロープロファイルピンヘッダのはんだ付け
* ProMicro基板とキースイッチ基板の接続
* 左右キースイッチの入力動作テスト
* トッププレートへのキースイッチ(四隅）の取り付け、はんだ付け
* 残りのキースイッチの取り付け、はんだ付け
* スペーサーの取り付け
* スペーサーのトッププレートへのねじ止め

# ダイオードのはんだ付け
リードタイプのダイオードをキースイッチ基板に取り付け、はんだ付けします。

ダイオードは25個使用します。(左右キースイッチ基板で合計50個)

まずは50個のダイオードのリードを曲げます。

ダイオードの根本付近で曲げれば、基板へ取り付け可能な状態になります。

リードを曲げたら、基板へダイオードを取り付けます。取り付けは5個ずつくらいで行うとよいです。

取り付けの際は、画像のように基板のシルクとダイオードの向きを合わせます。

(画像) 

右手用のダイオード2つのみ、ほかのダイオードと異なる場所にあるので注意してください。

(画像)

取り付けが完了したらはんだ付けをします。

はんだ付け後、不要なリードをニッパーなどで切断します。

この作業を左右のキースイッチ基板で各25回、合計50回行います。

# 1x9L字ピンヘッダ2つのはんだ付け
基板に1x9L字ピンヘッダ2つを取り付け、はんだ付けします。

L字ピンヘッダの取り付け方法に注意してください。

（L字ピンヘッダの取り付け向きがわかる画像)
 
# 1x4ピンソケット(ロープロファイル)のはんだ付け
左キースイッチ基板に1x4ピンソケット(ロープロファイル)を取り付け、はんだ付けします。

# 1x8(右は1x9)ロープロファイルピンヘッダのはんだ付け
左キースイッチ基板に1x8ロープロファイルピンヘッダ、

右キースイッチ基板に1x9ロープロファイルピンヘッダを取り付け、はんだ付けします。

ピンヘッダの短い方が基板側になるように取り付けてください。

(ピンヘッダの取り付け向きがわかる画像)

# ProMicro基板とキースイッチ基板の接続
動作テストのために、画像のように左右のProMicro基板とキースイッチ基板を接続します。

(画像)

# 左右キースイッチ基板の動作テスト
左右キースイッチ基板の動作テストはここで行うのがおすすめです。

動作テストの手順は以下のリンクに記載しています。
[入力動作テスト]()

# ProMicro基板とキースイッチ基板の分離
動作確認完了後、ProMicro基板とキースイッチ基板を分離します。

# トッププレートへのM2x7mmスペーサー取り付け

画像のように、左右のトッププレートへM2x7mmスペーサーを、M2x6mmねじで取り付けます。

左右のトッププレートで取り付け向きが異なるので注意して下さい。

(画像)


# トッププレートへのキースイッチ(四隅）の取り付け、はんだ付け
まずはトッププレートの四隅へキースイッチを取り付けます。

その後、トッププレートを取り付けたキースイッチを、キースイッチ基板に取り付けます。

取り付け時に、キースイッチのピンが基板の穴に正しく入っていることを確認してください。

入っていない場合は、キースイッチのピンが曲がっていないか等を確認します。

正しく取り付けが行えたら、四隅のいずれかのキースイッチの2つのピンのうち1つを、

キースイッチ基板から浮かないようにはんだ付けします。

マスキングテープで基板にキースイッチを固定したり、大き目のクリップで基板とキースイッチを挟む等の方法がおすすめです。

端子とパッド間は十分な量のはんだではんだ付けしてください。(画像程度のはんだの量なら大丈夫です。)

はんだ付け後、キースイッチが浮いていないことを確認します。浮いている場合は修正します。

確認後、残りのピンをはんだ付けします。

同様の作業を、残り3つのキースイッチに対しても行います。

# 残りのキースイッチの取り付け、はんだ付け
残りのキースイッチを取り付け、はんだ付けを行います。

一部のスイッチについては、トッププレートの形状の関係上、他と比べて基板から浮きやすいので、

特に注意してはんだ付けします。

(浮きやすいキースイッチ基板の位置を示す画像)

# LEDテープのはんだ付け

LEDテープ裏面のシールをはがします。

その後、画像を参考してLEDテープの向きを合わせます。

(画像)

その後、左右キースイッチ基板へLEDテープを貼り付けます。

貼り付け後、LEDテープの端子にフラックスを塗布し、はんだ付けします。

# M2x7mmスペーサー4つの取り付け
キースイッチ基板へM2x7㎜スペーサー4つを取り付けます。

# スペーサーのトッププレートへのねじ止め
M2x7mmスペーサーをトッププレートにM2x4mmねじでねじ止めします。

# ProMicro基板とキースイッチ基板の接続
画像のように、ProMicro基板とキースイッチ基板を接続します。

以上でキースイッチ基板の組み立ては完了です。

次は左右の拡張基板の組み立てを行います。

# 左右の拡張基板(JIS)の組み立て

左右の拡張基板(JIS)を組み立てます。(つまり、各(ry)

おおまかな流れは以下の通りです。
* (左拡張基板のみ）端面のやすりがけ
* ダイオードのはんだ付け
* 1x8(右は1x9)ロープロファイルピンヘッダのはんだ付け
* (右のみ)スタビライザーの取り付け
* トッププレートへのキースイッチ(四隅）の取り付け、はんだ付け
* 残りのキースイッチの取り付け、はんだ付け
* 拡張基板へのM2x7mmスペーサー4つの取り付け
* スペーサーのトッププレートへのねじ止め

# (左拡張基板のみ）ProMicro基板と繋がっていた部分の切り離し、やすりがけ
左拡張基板のProMicro基板と繋がっていた部分に鋭い部分が残らないように切り離します。

切り残しが基板の凹みより内側にあれば、組立て時に干渉することはありません。

きれいに仕上げたい場合は、切り残しを鉄ヤスリ等で削ります。

# ダイオードのはんだ付け
リードタイプのダイオードをキースイッチ基板に取り付け、はんだ付けします。

ダイオードは右拡張基板で10個、左拡張基板で15個使用します。

取り付けはキースイッチ基板の時と同様に行います。

ただし、ダイオードの向きがキースイッチ基板とは逆なので注意してください。

(シルクとダイオードの向きを揃えればOK) 

# 1x8(右は1x9)ロープロファイルピンヘッダのはんだ付け
左拡張基板に1x8ロープロファイルピンヘッダ、

右拡張基板に1x9ロープロファイルピンヘッダを取り付け、はんだ付けします。

ピンヘッダの短い方が基板側になるように取り付けてください。

(ピンヘッダの取り付け向きがわかる画像)

#  (右のみ)スタビライザーの取り付け
右拡張基板にスタビライザー2つを取り付けます。

ルブの用意がある場合は、スタビライザーへのルブの塗布を実施してから取り付けます。

(スタビライザー取り付け後の画像)

# トッププレートへのキースイッチ(四隅）の取り付け、はんだ付け
キースイッチ基板の時と同様、トッププレートの四隅へキースイッチを取り付け、はんだ付けします。

# 残りのキースイッチの取り付け、はんだ付け
キースイッチ基板の時と同様、残りのキースイッチを取り付け、はんだ付けします。

一部のキースイッチが基板から浮きやすい点も同様ですので注意してください。

(浮きやすいキースイッチを示す画像)

# 拡張基板へのM2x7mm スペーサー4つの取り付け
左右の拡張基板へM2x7mmスペーサー4つ(合計8個)を取り付けます。

この時点ではスペーサーは固定されないので、なくさないよう注意してください。

# スペーサーのトッププレートへのねじ止め
スペーサーをトッププレートへM2x4mmねじでねじ止めします。

以上で左右の拡張基板の組み立ては完了です。

# 各基板の連結

キースイッチ基板にねじ止めしたスペーサーとボトムプレートを、M2x4mmねじでねじ止めします。


ーーーーーーーー

拡張基板の組み立て
(左のみ）端面のやすりがけ
ダイオードのはんだ付け
(右のみ)スタビライザーの取り付け
1x8(右は1x9)ピンヘッダのはんだ付け
トッププレートへのキースイッチ(四隅）の取り付け、はんだ付け
残りのキースイッチの取り付け、はんだ付け
スペーサーの取り付け
スペーサーのトッププレートへのねじ止め
キースイッチ基板と左拡張基板のジャンパピンでの接続
ボトムプレートの取り付け





# キーキャップの取付け

キースイッチへお好みのキーキャップを取付けます。

拡張基板を使用する場合はこの手順は飛ばしても構いません。

# 左右キーボードの入力動作テスト

組立途中と同様に、左右キーボードの入力動作テストを行います。

# メイン基板の完成

入力動作テストに問題が無ければ、メイン基板の組立てはこれで完了です。おつかれさまでした。

拡張基板を使用する場合は、拡張基板の組立に進みます。

# 拡張基板の組立

# 拡張基板の分割

画像のように拡張基板が左右一体になっている場合は、ニッパー等で切り離します。

切り離した部分の断面が基板の凹みより内側にあれば、組立て時に干渉することはありません。

<img width="450" alt="拡張プレートの切り離し" src="https://user-images.githubusercontent.com/54104281/87869049-402c0600-c9d7-11ea-94e0-9cd061b41cef.png">

<img width="450" alt="拡張プレート切り離し後" src="https://user-images.githubusercontent.com/54104281/87869077-97ca7180-c9d7-11ea-99c9-28d38aa675ae.png">

断面が気になる場合は、写真のように鉄やすり等で形を整えます。

(私は写真の鉄やすりを使用しています。鉄やすりで基板を削ると鉄やすりが摩耗するので、専用のものを一本用意しておくことをお勧めします。)

<img width="237" alt="拡張基板断面成形後" src="https://user-images.githubusercontent.com/54104281/87869101-fd1e6280-c9d7-11ea-9192-c6846ebf9bb2.png">

# ダイオード(表面実装タイプ)のはんだ付け

画像のように、拡張基板へダイオード10個(両手分で20個)をはんだ付けします。手順はメイン基板と同じです。

<img width="376" alt="拡張基板ダイオードはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87869150-7e75f500-c9d8-11ea-8c63-cffea18da10f.png">

# ピンヘッダ1x8のはんだ付け

画像のようにピンヘッダ1x8を基板に取付けます。(短い方が基板側です。後の手順で長い方にジャンパピンを取り付けます。間違えないようにしてください。)

<img width="450" alt="拡張基板ピンヘッダ1x8取付後" src="https://user-images.githubusercontent.com/54104281/87869430-c39b2680-c9da-11ea-93dc-79416db92c61.png">

取付後、ピンヘッダの端子8つをはんだ付けします。(はんだ付けのみ行った状態の画像を貼るつもりでしたが、先走って四隅にキースイッチを取付けてしまっています。すみません。)

<img width="450" alt="拡張基板ピンヘッダ1x8はんだ付け後" src="https://user-images.githubusercontent.com/54104281/87869443-d281d900-c9da-11ea-9d7c-5eb232e0d1bb.png">

# トッププレートの四隅へのキースイッチの取付け

拡張基板用トッププレートが左右一体になっている場合は、拡張基板と同様の手順で切り離します。

画像のように、トッププレートの四隅へキースイッチを取付けます。左キーボードの場合、トッププレートの向きは画像とは左右逆になります。

<img width="450" alt="拡張基板トッププレート四隅キースイッチ取付後" src="https://user-images.githubusercontent.com/54104281/87869254-1ecc1980-c9d9-11ea-93fa-41148c20f0fc.png">

# トッププレート四隅のキースイッチを基板にはんだ付け

四隅へキースイッチを取付けた状態のトッププレートを基板へ取付けます。

四隅のキースイッチの端子が基板の穴から正しく出ていることを確認したら、キースイッチが基板からなるべく浮かないようにはんだ付けします。

<img width="450" alt="拡張基板四隅キースイッチはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87869518-63f14b00-c9db-11ea-8d07-03c5d2edcee3.png">

# 残りのキースイッチを基板にはんだ付け

残りのキースイッチを基板に取付け、基板からなるべく浮かないようにはんだ付けします。

キースイッチの四隅に羽根があるものは、後述のジャンパピン取付時にジャンパピンが羽根の部分と干渉する場合があります。

その場合は、あまりやりたくはないのですが、キースイッチの干渉部分をニッパー等で切り取ります。

<img width="450" alt="拡張基板キースイッチはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87869601-04e00600-c9dc-11ea-9913-9ecfb32e4b88.png">

# メイン基板へのピンヘッダ1x8のはんだ付け

まずは写真のようにメイン基板へピンヘッダ1x8を取付けます。(こちらも短い方が基板側ですので注意してください。)

既にキーキャップを取付けている場合は、邪魔な箇所のキーキャップをいったん取外します。

<img width="450" alt="ベース基板ピンヘッダ1x8取付後" src="https://user-images.githubusercontent.com/54104281/87869829-d2cfa380-c9dd-11ea-9d65-a515ca6604ca.png">

<img width="165" alt="ベース基板ピンヘッダ1x8取付拡大写真" src="https://user-images.githubusercontent.com/54104281/87869861-2a6e0f00-c9de-11ea-911b-8cdba93bc365.png">

メイン基板にボトムプレートが取付けられている場合は、ボトムプレート側のM2x4mmねじ4本を緩め、メイン基板からボトムプレートを取外します。

その後、メイン基板へピンへッダ1x8の端子8本をはんだ付けします。

<img width="199" alt="ベース基板ピンヘッダ1x8はんだ付け後拡大写真" src="https://user-images.githubusercontent.com/54104281/87869924-ba13bd80-c9de-11ea-965c-a6c88c61148a.png">

その後、キースイッチやピンヘッダ等のはんだ付けに漏れが無いことを確認しておきます。

# 拡張基板へのM2x7mmスペーサー取付

まず、写真のように拡張基板とメイン基板を配置します。

<img width="600" alt="拡張基板とベース基板配置後" src="https://user-images.githubusercontent.com/54104281/87870156-80dc4d00-c9e0-11ea-8e38-4579d523f9b3.png">

その後、拡張基板へM2x7mmスペーサー2つを取付け、拡張基板のトッププレートにM2x4mmのねじ2本でねじ止めします。

<img width="600" alt="拡張基板M2x7mmスペーサーねじ止め後" src="https://user-images.githubusercontent.com/54104281/87870369-4bd0fa00-c9e2-11ea-8a8e-952c6894f4e1.png">

# ボトムプレートの仮止め

まず、画像を参考に、メイン基板の左側にあるM2x7mmスペーサー2つの位置を変更します。

<img width="600" alt="ベース基板M2x7mmスペーサー位置変更" src="https://user-images.githubusercontent.com/54104281/88449209-f84a2a80-ce7f-11ea-8113-6606f922d8ab.png">

その後、ボトムプレート2枚をM2x7mmスペーサー6つへM2x4㎜ねじ6本で仮止め(部品が脱落しない程度の強さでねじ止め)します。

強度確保のため、大きい方のボトムプレートはメイン基板と拡張基板を繋ぐように取付けます。

仮止め後、写真のようにボトムプレートへゴム足8つを取付けます。(既に取付済みのゴム足がある場合は、残りのゴム足を取付けます。)

<img width="600" alt="ボトムプレートゴム足取付後" src="https://user-images.githubusercontent.com/54104281/87870412-c9950580-c9e2-11ea-8a38-7705f81d302e.png">

# ピンヘッダ1x8へのジャンパピンの取付

画像のように、メイン基板と拡張基板のピンヘッダ1x8の隣り合っている端子間を繋ぐように、ジャンパピン8つを取付けます。

メイン基板と拡張基板の位置があっていない場合は微調整します。(ボトムプレートが仮止め状態なので、若干の位置調整が可能です。)

<img width="600" alt="ジャンパピン8つ取付後" src="https://user-images.githubusercontent.com/54104281/87870767-2d6cfd80-c9e6-11ea-93cc-aa2fcd70ccd7.png">

ジャンパピンは1つずつ、奥まで取り付けられていることを確認しながら取付けます。端子の位置が画像のようになっていれば大丈夫です。

<img width="359" alt="ジャンパピン端子位置確認用" src="https://user-images.githubusercontent.com/54104281/87870825-8b014a00-c9e6-11ea-90d7-248b05d389b7.png">

# M2x4mmねじ6本の本締めと全体的なねじ止め確認

ボトムプレートを仮止めしていたM2x4mmねじ6本を本締めします。併せて、他のねじにも緩みが無いことを確認しておきます。

# (オプション)トッププレート間のはんだ付け

メイン基板と拡張基板の接続強度を上げたい場合は、トッププレートの画像の赤枠で囲んだ箇所にあるスルーホールを、不要なリード部品のリード線等で繋いではんだ付けします。

はんだ付け可能な場所は3箇所ありますが、赤枠で囲んでいない1箇所は予備です。

はんだ付けの際ははんだごてがキースイッチに接触しないよう注意してください。

<img width="600" alt="リード部品取り付け場所" src="https://user-images.githubusercontent.com/54104281/88459231-c613e980-cece-11ea-984d-83c1e957a78d.png">

# キーキャップの取付

キースイッチへお好みのキーキャップを取付けます。

![完成後](https://user-images.githubusercontent.com/54104281/87871346-863e9500-c9ea-11ea-815b-f21ac83e1fd6.png)

# ファームウェアの変更

拡張プレートを使用する場合は、ファームウェア書込み前にsekimenフォルダ内のconfig.hの変更が必要です。

画像の赤枠で示した部分を変更します。

変更前

<img width="528" alt="ファームウェア変更前" src="https://user-images.githubusercontent.com/54104281/88449830-28e09300-ce85-11ea-8ee5-ccf5d559230b.png">

変更後

<img width="528" alt="ファームウェア変更後" src="https://user-images.githubusercontent.com/54104281/88449833-33029180-ce85-11ea-88d9-12b6eb985240.png">

変更後は、再度ファームウェアの書込みを行います。

#  動作確認

2つのキーボード間をTRRSケーブルで接続し、左手側のキーボードのProMicroとPC間をUSBケーブルで繋ぎ、キーボードの動作確認をします。

(メイン基板の入力動作テストは済んでいると思いますので、ここでは、拡張基板部分の入力動作を重点的に確認します。)

動作に問題が無ければ組立ては完了です。おつかれさまでした！

自分に合ったキーマップを見つけたり、キーキャップやOLEDの表示をカスタマイズしたり、楽しいキーボードライフをお過ごしください。
