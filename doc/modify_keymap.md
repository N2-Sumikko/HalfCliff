# modify keymap
こちらはhalfcliffのキーマップ変更用の資料です。(2021/12/19時点ではRemapを使用したキーマップ変更方法のみ記載しています。)

キーマップの変更法は複数ありますが、本資料では、

* Remapを使用したキーマップ変更方法

を記載します。他には、

* keymap.cを直接編集してのキーマップ変更方法
* VIAを使用したキーマップ変更方法

等がありますが、これらは必要に応じて追記予定です。

# Remapを使用したキーマップ変更方法
ここでは、Remapを使用したキーマップの変更方法を記載します。大まかな流れは以下の通りです。
* (行っていない場合)viaに対応しているファームウェア書込
* RemapのWebサイトへアクセス
* PCへのキーボードの接続
* Remapにてキーマップ編集画面の表示
* キーマップの変更

# (行っていない場合)viaに対応しているファームウェア書込
Remapを使用してキーマップを変更するためには、viaに対応しているファームウェアをProMicroへ書込む必要があります。

行っていない場合、ProMicroに該当のファームウェアを書込みます。

具体的には、キーボード組立時に行った
[入力動作テスト](https://github.com/N2-Sumikko/HalfCliff/blob/master/doc/Oparation_test_jp.md)
の内容を参考に、
* (QMK MSYSを使用する場合）コマンド「qmk flash -kb halfcliff -km via」でのファームウェアの書込み
* (QMK Toolboxを使用する場合)ダウンロードした「HalfCliff-master」内の「hex/qmk_0.15.4/via/normal/halfcliff_via.hex」または「hex/qmk_0.15.4/via/underglow/halfcliff_via.hex」(アンダーグロー使用時はこっち)の書込み

を行います。実施済みの場合はこの手順は飛ばします。

# RemapのWebサイトへアクセス
Google Chromeのブラウザにて[Remap](https://remap-keys.app/)へアクセスします。

# PCへのキーボードの接続
左キーボードのProMicroとPC間をUSBケーブルで接続します。

# Remapにてキーマップ編集画面の表示
こちらはサリチル酸様のWebページ

[（初心者編）Remapを使ってキーマップを書き換えよう](https://salicylic-acid3.hatenablog.com/entry/remap-manual)

の情報が非常に充実していますので、そちらを確認しながら進めるとよいかと思います。

「キーボード設定画面を開く」以下の内容を参考に、キーマップ編集画面を開くところまで進めます。

halfcliffのキーマップはRemapにマージしていただいているので、「接続」をクリックするところまで進めれば編集画面が表示されるはずです。

# キーマップの変更
こちらも上記のサリチル酸様のWebページの情報が非常に充実していますので、そちらを確認しながら進めます。

購入時のキーマップは以下の様になっています。

デフォルトのレイヤー(名称はDEFAULTです。▽は未設定のキーです。)
![デフォルトキーマップ](https://user-images.githubusercontent.com/54104281/146664429-d2f52b6e-d88e-40d4-a1d4-0b57404891e3.png)

レイヤー１(名称はRAISEです。Fn1(3)のキーを押している間はこのキーマップに切り替わります。▽の部分は上のレイヤーの設定が有効になります。)
![RAISEキーマップ](https://user-images.githubusercontent.com/54104281/146664732-41e82311-9899-49b5-a8d0-a22600d46aed.png)

レイヤー２(名称はLOWERです。Fn2(3)のキーを押している間はこのキーマップに切り替わります。▽の部分は上のレイヤーの設定が有効になります。)
![LOWERキーマップ](https://user-images.githubusercontent.com/54104281/146664752-04327d61-b525-4447-8578-6ef5d036133b.png)

レイヤー３(名称はADJUSTです。Fn3(3)のキーを押している間に有効)もありますが、購入時は未設定の状態です。

halfcliffのキーマップ変更時の注意点は、以下の内容等です。
* 基本セットの場合、キー配列はJISを使用
* デフォルトの設定ではマウスキーは使用不可(使用する場合は、QMK MSYSを使用してファームウェアを書込む必要があります。需要があればQMK Toolboxにて書込めるファームウェアを用意する予定です。)
